{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Datos Econ\u00f3micos UCR","text":""},{"location":"#intorduccion-a-stata","title":"Intorducci\u00f3n a STATA","text":"<p>\u00bfPor qu\u00e9 es \u00fatil usar STATA para el an\u00e1lisis de datos?</p>"},{"location":"videos/","title":"Videos","text":""},{"location":"videos/#videos-de-clases-grabadas","title":"Videos de clases grabadas","text":"<ul> <li>Introducci\u00f3n a gr\u00e1ficos en Stata</li> </ul>"},{"location":"labs/lab2/","title":"Index 2","text":""},{"location":"labs/lab_index/","title":"Lab index","text":""},{"location":"labs/lab_index/#laboratorios","title":"Laboratorios","text":""},{"location":"labs/semana_13/","title":"Factor de Expansi\u00f3n","text":"<p>Vamos a empezar cargando la base de datos </p> <pre><code>use \"la ubicacion del archivo en la computadora\", clear\n</code></pre> <p>La base tiene ~30,000 mil observaciones, sin embargo, cuando el INEC publica resultados de la situaci\u00f3n socioecon\u00f3mica del pa\u00eds presenta datos extrapolados para todo el pa\u00eds. </p> <p>Pregunta</p> <p>\u00bfC\u00f3mo es entonces que puede hacer estad\u00edsticas sobre 5 millones de personas con una encuesta de 30 mil observaciones?</p> <p>Si utilizamos el comando tab, podemos hacer una tabla descriptiva de algunas variables. Realicemos una tabla para el nivel de pobreza seg\u00fan la regi\u00f3n.</p> <p>Tab normal<pre><code>tab REGION np\n</code></pre> Como podr\u00e1 observar la tabla nos muestra el total de personas seg\u00fan su condic\u00f3n de pobreza y regi\u00f3n de planificaci\u00f3n, en total hay  30,514 observaciones. Si queremos saber a cuanto equivalen estos datos con respecto al total de la poblaci\u00f3n, debemos usar el factor de ponderaci\u00f3n o expansi\u00f3n</p> <p>Factor de ponderaci\u00f3n</p> <p>El factor de ponderaci\u00f3n se utiliza para ajustar la representaci\u00f3n en una encuesta. Nos dice cu\u00e1nto representa una observaci\u00f3n en t\u00e9rminos poblacionales.</p> <p>Por ejemplo, si en el pa\u00eds hay m\u00e1s mujeres que hombres, pero en la encuesta se entrevistan igual n\u00famero de mujeres que de hombres, entonces el factor de expansi\u00f3n da mayor peso a las mujeres.</p> <p>En Stata simplemente a\u00f1adimos la opci\u00f3n [w=variable] aqu\u00ed w significa weight, es decir el peso de cada observaci\u00f3n y la variable que tiene el peso de cada observaci\u00f3n es \"FACTOR\"</p> <p>Tab con pesos<pre><code>tab REGION np [w=FACTOR]\n</code></pre> Como puede ver la tabla ahora muestra un total de 5,257,304 de observaciones. Esto quiere decir que estamos expandiendo los datos para todo el pa\u00eds.</p> <p>Diferentes tipos de pesos</p> <p>Frecuency weights (fweight):  Se le indica a Stata que una sola l\u00ednea representa observaciones de m\u00faltiples personas</p> <p>Analytic weights (aweight): Se usan cuando cada observaci\u00f3n es una media calculada a partir de una muestra de tama\u00f1o n.</p> <p>Sample weights (pweight): Tambi\u00e9n conocidas como ponderaciones de probabilidad, son adecuadas cuando se realiza un muestreo aleatorio sin reemplazo.</p> <p>Podr\u00edamos tambi\u00e9n usarlo con variables que hayamos creado nosotros.</p> Creamos variable de pobreza<pre><code>*Ponemos personas pobres en categor\u00eda 1 y no pobres en categor\u00eda 0\nrecode np (2=1) (3=0), gen(pobre_dicotomica)\n*Creamos la tabla\ntab pobre_dicotomica [w=FACTOR]\n</code></pre>"},{"location":"labs/semana_13/#combinar-bases-de-datos","title":"Combinar bases de datos","text":"<p>Algo muy com\u00fan que sucede cuando se est\u00e1 realizando una investigaci\u00f3n es querer analizar un problema a lo largo del tiempo, sin embargo, todas las bases de datos con las que hemos trabajado hasta el momento incluyen solo las observaciones para un a\u00f1o en espec\u00edfico.</p> <p>Suponga que usted quiere ver la evoluci\u00f3n de la pobreza a lo largo de los \u00faltimos 3 a\u00f1os. Para poder realizar esto deber\u00edamos analizar las bases de datos del 2023, 2024 y 2025. Ser\u00eda m\u00e1s pr\u00e1ctico combinar las bases de datos, que analizar una base a la vez.</p> <p>Comando append</p> <p>El comando append nos permite juntar bases de datos de manera vertical</p> <pre><code>append using \"base_2.dta\"\n</code></pre> <p>Utilizando append podemos juntar las bases de datos de ambos a\u00f1os y trabajar con una sola base de datos.</p> <p>Hasta ahora todo funciona bien, pero si observa la base de datos, notar\u00e1 que no puede diferenciar cuales observaciones pertenecen a cada a\u00f1o. </p> <p>Generar identificadores</p> <p>Podemos evitar este problema generando un identificador con la opci\u00f3n gen(variable) <pre><code>append using \"base_2.dta\", gen(anno)\n</code></pre></p> <p>Una vez hecho esto podr\u00edamos analizar por ejemplo como cambi\u00f3 el porcentaje de personas seg\u00fan su condici\u00f3n de pobreza.</p> <p>Podemos hacerlo mediante un gr\u00e1fico de barras.</p> <pre><code>*Note que para un gr\u00e1fico de porcentaje no es necesario poner una variable antes de la coma\n*con asyvars le decimos que a STATA que use diferentes colores para la variable que pusimos en el primer over()\n*En este caso el anno\ngraph bar (percent) [w=FACTOR], over(anno) over(np) asyvars\ngraph box Escolari [w=FACTOR] if Escolari!=99, over(anno)\n</code></pre> <p>Nota</p> <p>Note el uso del factor de expansi\u00f3n para hacer el gr\u00e1fico</p> <p>Otras manipulaciones</p> <ul> <li>Merge: Une bases de datos con una columna en com\u00fan de forma horizontal</li> <li>Collapse: Resume datos. Permite reducir la base de datos a estad\u00edsticas descriptivas</li> </ul> <p>*Estas no son cubiertas en el curso </p>"},{"location":"labs/semana_13/#medidas-de-concentracion","title":"Medidas de concentraci\u00f3n","text":""},{"location":"labs/semana_13/#repaso-sobre-percentiles","title":"Repaso sobre percentiles","text":"<p>A veces es muy \u00fatil dividir a la poblaci\u00f3n en percentiles, sobretodo cuando se estudia un tema como la desigualdad</p> <p>Para esto trabajabamos con 2 comandos principales en Stata</p> <p>xtile</p> <p>Genera una variable categ\u00f3rica que indica el percentil al que pertenece la observaci\u00f3n.</p> <p>Syntaxis <pre><code>xtile nueva_variable = expresi\u00f3n, nquantiles(#)\n</code></pre></p> <p><pre><code>xtile quintil = ipcn if ipcn&gt;0, nquantiles(5)\n</code></pre> Esto genera una variable con n\u00fameros del 1 al 5 indicando el quintil de ingreso al que pertenece la persona</p> <p>Ahora podemos hacer an\u00e1lisis por quintiles, por ejemplo ver los a\u00f1os de escolaridad promedio: <pre><code>tab quintil, sum(Escolari) mean\n</code></pre></p> <p>pctile</p> <p>Nos indica el valor de los percentiles</p> <p>Syntaxis <pre><code>pctile nueva_variable = expresi\u00f3n, nquantiles(#)\n</code></pre></p> <p><pre><code>pctile valores = ipcn if ipcn&gt;0, nquantiles(5)\ntab valores\n</code></pre> Esto nos muestra una tabla con el valor del ingreso que corresponde al quintil 1, 2, 3 y 4</p>"},{"location":"labs/semana_13/#coeficiente-de-gini-y-curva-de-lorenz","title":"Coeficiente de Gini y Curva de Lorenz","text":"<p>En esta secci\u00f3n vamos a trabajar con el uso de paquetes externos que nos permiten computar la Curva de Lorenz y el Coeficiente de Gini</p> <p>Paquetes de terceros</p> <p>Recuerde que para instalar paquetes de terceros usamos <code>ssc install [nombre del paquete]</code></p> <pre><code>ssc install glcurve\n</code></pre> <p>Si no estamos seguros de como instalar un paquete podemos escribir <code>help [nombre del paquete]</code>, por ejemplo</p> <pre><code>help ginidesc\n</code></pre> <p>Este comando abrir\u00e1 un men\u00fa con opciones de paquetes a descargar. Si el paquete ya est\u00e1 instalado, abre el men\u00fa de ayuda.</p> <p>Una vez instalados los comandos podemos calcular el \u00edndice de Gini con el comando <code>ginidesc</code></p> <p><pre><code>ginidesc ipcn if ipcn&gt;0 &amp; anno==2024\n</code></pre> <code>ginidesc</code> muestra una tabla en la consola con el coeficiente de Gini. Adem\u00e1s, muestra la desigualdad que puede ser atribuida a desigualdad entre grupos y dentro de los grupos </p> <p>Como ejemplo podemos ver el coeficiente de Gini por region y analizar cu\u00e1nto de la desigualdad se debe a brechas entre grupos</p> <pre><code>ginidesc ipcn if ipcn&gt;0 &amp; anno==2024, by(REGION)\n</code></pre> <p>Tambi\u00e9n podemos computar la Curva de Lorenz con <code>glcurve</code>, para tener una representaci\u00f3n visual de la desigualdad del pa\u00eds</p> <pre><code>glcurve ipcn if ipcn&gt;0 &amp; anno==2024, ///\nlorenz title(\"Curva de Lorenz Costa Rica 2024\") ///\nscheme(plotplain) ///\nytitle(\"Porcentaje acumulado de ingreso\") ///\nxtitle(\"Porcentaje acumulado de personas\") plot(function equality=x, color(blue))\n</code></pre> <p>Puede descargar el dofile aqu\u00ed</p>"},{"location":"practicas/stata1/","title":"Quiz Stata 1","text":""},{"location":"practicas/stata1/#practica-para-el-quiz-1-de-stata","title":"Pr\u00e1ctica para el quiz 1 de STATA","text":""},{"location":"practicas/stata1/#guia-de-practica","title":"Gu\u00eda de pr\u00e1ctica","text":"<p>Incisos</p> <ol> <li> <p>Cargue la base de datos a STATA</p> </li> <li> <p>Mantenga solo las siguientes variables y elimine el resto de la base de datos</p> <ul> <li>REGION</li> <li>A4</li> <li>A5</li> <li>spmb</li> <li>HorTotNorm</li> <li>Escolari</li> <li>CondAct</li> <li>ZONA</li> <li>A19B1</li> <li>NivInst</li> <li>V2A1</li> <li>H1F</li> </ul> </li> <li>Convierta la variable A5 (edad) de tipo texto a num\u00e9rica </li> <li>Convierta la variable A4 (sexo) a una variable categ\u00f3rica. Utilice una etiqueta 0=hombre y 1=mujer  </li> <li>Elabore las siguientes tablas<ul> <li>Una tabla que muestre la cantidad de personas por condici\u00f3n de actividad</li> <li>Una tabla que muestre como porcentaje la distribuci\u00f3n de personas por ocupaci\u00f3n (filas) y sexo (columnas)</li> <li>Una tabla donde muestre el salario promedio y la desviaci\u00f3n est\u00e1ndar por sexo</li> </ul> </li> <li>Algunos de los valores de la variable salario son negativos, reemplacelos por un \".\"</li> <li>Realice un resumen estad\u00edstico del salario por zona (urbana o rural)</li> <li>Realice un histograma del salario de las personas por zona (urbana o rural). Recuerde incluir todas las partes del gr\u00e1fico.<ul> <li>Interprete tambi\u00e9n sus resultados solo para la zona urbana, qu\u00e9 relaci\u00f3n tienen con el inciso anterior</li> </ul> </li> </ol>"}]}