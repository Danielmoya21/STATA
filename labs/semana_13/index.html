
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../lab1/">
      
      
        <link rel="next" href="../../practicas/stata1/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Semana 13 - Datos Económicos UCR</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/add_stylesheet.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#factor-de-expansion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Datos Económicos UCR" class="md-header__button md-logo" aria-label="Datos Económicos UCR" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Datos Económicos UCR
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Semana 13
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Introducción

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../lab1/" class="md-tabs__link">
          
  
  
  Laboratorios

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../excel.md" class="md-tabs__link">
          
  
  
  Practicas

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../videos/" class="md-tabs__link">
          
  
  
  Videos

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Datos Económicos UCR" class="md-nav__button md-logo" aria-label="Datos Económicos UCR" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Datos Económicos UCR
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Laboratorios
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Laboratorios
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Semana 13
    
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Practicas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Practicas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../excel.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quiz Excel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practicas/stata1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quiz Stata 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stata2.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quiz Stata 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Videos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Videos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../videos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Videos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="factor-de-expansion">Factor de Expansión</h1>
<p>Vamos a empezar cargando la base de datos </p>
<div class="highlight"><pre><span></span><code><span class="k">use</span> <span class="s">&quot;la ubicacion del archivo en la computadora&quot;</span>,<span class="k"> clear</span>
</code></pre></div>
<p>La base tiene ~30,000 mil observaciones, sin embargo, cuando el INEC publica resultados de la situación socioeconómica del país presenta datos extrapolados para todo el país. </p>
<div class="admonition warning">
<p class="admonition-title">Pregunta</p>
<p>¿Cómo es entonces que puede hacer estadísticas sobre 5 millones de personas con una encuesta de 30 mil observaciones?</p>
</div>
<p>Si utilizamos el comando tab, podemos hacer una tabla descriptiva de algunas variables. Realicemos una tabla para el nivel de pobreza según la región.</p>
<p><div class="highlight"><span class="filename">Tab normal</span><pre><span></span><code><span class="k">tab</span> REGION np
</code></pre></div>
Como podrá observar la tabla nos muestra el total de personas según su condicón de pobreza y región de planificación, en total hay  30,514 observaciones. Si queremos saber a cuanto equivalen estos datos con respecto al total de la población, debemos usar el <strong>factor de ponderación o expansión</strong></p>
<div class="admonition tip">
<p class="admonition-title">Factor de ponderación</p>
<p>El factor de ponderación se utiliza para ajustar la representación en
una encuesta. Nos dice cuánto representa una observación en términos poblacionales.</p>
</div>
<p>Por ejemplo, si en el país hay más mujeres que hombres, pero en la encuesta se entrevistan igual número de mujeres que de hombres, entonces el factor de expansión da mayor peso a las mujeres.</p>
<p>En Stata simplemente añadimos la opción <strong>[w=variable]</strong> aquí w significa weight, es decir el peso de cada observación y la variable que tiene el peso de cada observación es "FACTOR"</p>
<p><div class="highlight"><span class="filename">Tab con pesos</span><pre><span></span><code><span class="k">tab</span> REGION np [w=FACTOR]
</code></pre></div>
Como puede ver la tabla ahora muestra un total de 5,257,304 de observaciones. Esto quiere decir que estamos expandiendo los datos para todo el país.</p>
<div class="admonition note">
<p class="admonition-title">Diferentes tipos de pesos</p>
<p><strong>Frecuency weights (fweight):</strong>  Se le indica a Stata que una sola
línea representa observaciones de múltiples personas</p>
<p><strong>Analytic weights (aweight)</strong>: Se usan cuando cada observación
es una media calculada a partir de una muestra de tamaño n.</p>
<p><strong>Sample weights (pweight)</strong>: También conocidas como
ponderaciones de probabilidad, son adecuadas cuando se
realiza un muestreo aleatorio sin reemplazo.</p>
</div>
<p>Podríamos también usarlo con variables que hayamos creado nosotros.</p>
<div class="highlight"><span class="filename">Creamos variable de pobreza</span><pre><span></span><code><span class="c1">*Ponemos personas pobres en categoría 1 y no pobres en categoría 0</span>
<span class="k">recode</span> np (<span class="m">2</span>=<span class="m">1</span>) (<span class="m">3</span>=<span class="m">0</span>),<span class="k"> gen</span>(pobre_dicotomica)
<span class="c1">*Creamos la tabla</span>
<span class="k">tab</span> pobre_dicotomica [w=FACTOR]
</code></pre></div>
<hr />
<h1 id="combinar-bases-de-datos">Combinar bases de datos</h1>
<p>Algo muy común que sucede cuando se está realizando una investigación es querer analizar un problema a lo largo del tiempo, sin embargo, todas las bases de datos con las que hemos trabajado hasta el momento incluyen solo las observaciones para un año en específico.</p>
<p>Suponga que usted quiere ver la evolución de la pobreza a lo largo de los últimos 3 años. Para poder realizar esto deberíamos analizar las bases de datos del 2023, 2024 y 2025. Sería más práctico combinar las bases de datos, que analizar una base a la vez.</p>
<div class="admonition danger">
<p class="admonition-title">Comando append</p>
<p>El comando <strong>append</strong> nos permite juntar bases de datos de manera vertical</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">append</span> using <span class="s">&quot;base_2.dta&quot;</span>
</code></pre></div>
<p>Utilizando append podemos juntar las bases de datos de ambos años y trabajar con una sola base de datos.</p>
<p>Hasta ahora todo funciona bien, pero si observa la base de datos, notará que no puede diferenciar cuales observaciones pertenecen a cada año. </p>
<div class="admonition tip">
<p class="admonition-title">Generar identificadores</p>
<p>Podemos evitar este problema generando un <strong>identificador</strong> con la opción gen(variable)
<div class="highlight"><pre><span></span><code><span class="k">append</span> using <span class="s">&quot;base_2.dta&quot;</span>,<span class="k"> gen</span>(anno)
</code></pre></div></p>
</div>
<p>Una vez hecho esto podríamos analizar por ejemplo como cambió el porcentaje de personas según su condición de pobreza.</p>
<p>Podemos hacerlo mediante un gráfico de barras.</p>
<div class="highlight"><pre><span></span><code><span class="c1">*Note que para un gráfico de porcentaje no es necesario poner una variable antes de la coma</span>
<span class="c1">*con asyvars le decimos que a STATA que use diferentes colores para la variable que pusimos en el primer over()</span>
<span class="c1">*En este caso el anno</span>
<span class="k">graph</span> bar (percent) [w=FACTOR], over(anno) over(np) asyvars
<span class="k">graph</span> box Escolari [w=FACTOR]<span class="k"> if</span> Escolari<span class="o">!=</span><span class="m">99</span>, over(anno)
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">Nota</p>
<p>Note el uso del factor de expansión para hacer el gráfico</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Otras manipulaciones</p>
<ul>
<li><strong>Merge</strong>: Une bases de datos con una columna en común de forma horizontal</li>
<li><strong>Collapse</strong>: Resume datos. Permite reducir la base de datos a estadísticas descriptivas</li>
</ul>
<p>*Estas no son cubiertas en el curso </p>
</div>
<hr />
<h1 id="medidas-de-concentracion">Medidas de concentración</h1>
<h2 id="repaso-sobre-percentiles">Repaso sobre percentiles</h2>
<p>A veces es muy útil dividir a la población en percentiles, sobretodo cuando se estudia un tema como la desigualdad</p>
<p>Para esto trabajabamos con 2 comandos principales en Stata</p>
<div class="admonition danger">
<p class="admonition-title">xtile</p>
<p>Genera una variable categórica que indica el percentil al que pertenece la observación.</p>
<p>Syntaxis
<div class="highlight"><pre><span></span><code><span class="k">xtile</span> nueva_variable = expresión, nquantiles(#)
</code></pre></div></p>
</div>
<p><div class="highlight"><pre><span></span><code><span class="k">xtile</span> quintil = ipcn<span class="k"> if</span> ipcn<span class="o">&gt;</span><span class="m">0</span>, nquantiles(<span class="m">5</span>)
</code></pre></div>
Esto genera una variable con números del 1 al 5 indicando el quintil de ingreso al que pertenece la persona</p>
<p>Ahora podemos hacer análisis por quintiles, por ejemplo ver los años de escolaridad promedio:
<div class="highlight"><pre><span></span><code><span class="k">tab</span> quintil,<span class="k"> sum</span>(Escolari)<span class="k"> mean</span>
</code></pre></div></p>
<div class="admonition danger">
<p class="admonition-title">pctile</p>
<p>Nos indica el valor de los percentiles</p>
<p>Syntaxis
<div class="highlight"><pre><span></span><code><span class="k">pctile</span> nueva_variable = expresión, nquantiles(#)
</code></pre></div></p>
</div>
<p><div class="highlight"><pre><span></span><code><span class="k">pctile</span> valores = ipcn<span class="k"> if</span> ipcn<span class="o">&gt;</span><span class="m">0</span>, nquantiles(<span class="m">5</span>)
<span class="k">tab</span> valores
</code></pre></div>
Esto nos muestra una tabla con el valor del ingreso que corresponde al quintil 1, 2, 3 y 4</p>
<h2 id="coeficiente-de-gini-y-curva-de-lorenz">Coeficiente de Gini y Curva de Lorenz</h2>
<p>En esta sección vamos a trabajar con el uso de paquetes externos que nos permiten computar la Curva de Lorenz y el Coeficiente de Gini</p>
<div class="admonition tip">
<p class="admonition-title">Paquetes de terceros</p>
<p>Recuerde que para instalar paquetes de terceros usamos <code>ssc install [nombre del paquete]</code></p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">ssc</span> install glcurve
</code></pre></div>
<p>Si no estamos seguros de como instalar un paquete podemos escribir <code>help [nombre del paquete]</code>, por ejemplo</p>
<div class="highlight"><pre><span></span><code><span class="k">help</span> ginidesc
</code></pre></div>
<p>Este comando abrirá un menú con opciones de paquetes a descargar. Si el paquete ya está instalado, abre el menú de ayuda.</p>
<p>Una vez instalados los comandos podemos calcular el índice de Gini con el comando <code>ginidesc</code></p>
<p><div class="highlight"><pre><span></span><code>ginidesc ipcn<span class="k"> if</span> ipcn<span class="o">&gt;</span><span class="m">0</span> <span class="o">&amp;</span> anno<span class="o">==</span><span class="m">2024</span>
</code></pre></div>
<code>ginidesc</code> muestra una tabla en la consola con el coeficiente de Gini. Además, muestra la desigualdad que puede ser atribuida a desigualdad entre grupos y dentro de los grupos </p>
<p>Como ejemplo podemos ver el coeficiente de Gini por region y analizar cuánto de la desigualdad se debe a brechas entre grupos</p>
<div class="highlight"><pre><span></span><code>ginidesc ipcn<span class="k"> if</span> ipcn<span class="o">&gt;</span><span class="m">0</span> <span class="o">&amp;</span> anno<span class="o">==</span><span class="m">2024</span>,<span class="k"> by</span>(REGION)
</code></pre></div>
<p>También podemos computar la Curva de Lorenz con <code>glcurve</code>, para tener una representación visual de la desigualdad del país</p>
<div class="highlight"><pre><span></span><code>glcurve ipcn<span class="k"> if</span> ipcn<span class="o">&gt;</span><span class="m">0</span> <span class="o">&amp;</span> anno<span class="o">==</span><span class="m">2024</span>, <span class="cs">///</span>
lorenz title(<span class="s">&quot;Curva de Lorenz Costa Rica 2024&quot;</span>) <span class="cs">///</span>
scheme(plotplain) <span class="cs">///</span>
ytitle(<span class="s">&quot;Porcentaje acumulado de ingreso&quot;</span>) <span class="cs">///</span>
xtitle(<span class="s">&quot;Porcentaje acumulado de personas&quot;</span>)<span class="k"> plot</span>(function equality=x, color(blue))
</code></pre></div>
<p><a href="dofiles/dofile_semana13.do" download>Puede descargar el dofile aquí</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>